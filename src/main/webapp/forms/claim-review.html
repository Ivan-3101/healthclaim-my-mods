<form name="claimReviewForm">
    <script cam-script type="text/form-script">
        $scope.loadFields = function() {
          var fieldsJson = camForm.variableManager.variableValue('uiFieldsJson');

          if (!fieldsJson) {
            $scope.fields = [];
            return;
          }

          try {
            $scope.fields = JSON.parse(fieldsJson);
          } catch(e) {
            console.error('Error parsing fields:', e);
            $scope.fields = [];
          }
        };

        camForm.on('form-loaded', function() {
          $scope.loadFields();
        });
    </script>

    <style>
        .field-group {
          margin-bottom: 15px;
          padding: 12px;
          background: #f9f9f9;
          border-left: 3px solid #007bff;
          border-radius: 4px;
        }
        .field-label {
          font-weight: bold;
          color: #555;
          font-size: 13px;
          margin-bottom: 5px;
        }
        .field-value {
          color: #333;
          font-size: 14px;
          padding: 8px;
          background: white;
          border: 1px solid #ddd;
          border-radius: 3px;
          word-wrap: break-word;
        }
        .doc-type {
          font-size: 11px;
          color: #666;
          font-style: italic;
          margin-top: 4px;
        }
        .no-data {
          text-align: center;
          padding: 30px;
          color: #999;
          font-style: italic;
        }
        h3 {
          color: #333;
          border-bottom: 2px solid #007bff;
          padding-bottom: 8px;
          margin-bottom: 20px;
        }
        .form-group {
          margin-top: 25px;
          padding-top: 20px;
          border-top: 2px solid #ddd;
        }
    </style>

    <h3>Claim Review - Extracted Information</h3>

    <div ng-if="fields.length === 0" class="no-data">
        No fields extracted from documents
    </div>

    <div ng-repeat="field in fields" class="field-group">
        <div class="field-label">{{field.label}}</div>
        <div class="field-value">{{field.value}}</div>
        <div class="doc-type" ng-if="field.docType">Source: {{field.docType}}</div>
    </div>

    <div class="form-group">
        <label for="action">Decision *</label>
        <select cam-variable-name="Action"
                cam-variable-type="String"
                id="action"
                class="form-control"
                required>
            <option value="">-- Select Action --</option>
            <option value="approve">Approve</option>
            <option value="reject">Reject</option>
        </select>
    </div>
</form>